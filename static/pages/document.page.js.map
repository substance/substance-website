{"version":3,"file":"document.page.js","sources":["../../../src/StatusMessage.js","../../../src/DocumentHeader.js","../../../node_modules/substance/dar/ManifestDocument.js","../../../node_modules/substance/dar/ManifestLoader.js","../../../node_modules/substance/dar/DocumentArchive.js","../../../node_modules/substance/dar/InMemoryDarBuffer.js","../../../node_modules/substance/dar/loadArchive.js","../../../src/Switch.js","../../../src/VersionsLeftHeader.js","../../../src/VersionItem.js","../../../src/VersionsRightHeader.js","../../../src/essay/Essay.js","../../../src/essay/EssayReader.js","../../../src/DocumentReader.js","../../../src/FourSquareLayout.js","../../../src/RadioToggle.js","../../../src/Versions.js","../../../src/essay/EssayEditorApi.js","../../../src/EditorToolbar.js","../../../src/essay/EssayEditor.js","../../../src/DocumentEditor.js","../../../src/essay/EssaySchema.js","../../../src/essay/EssayLoader.js","../../../src/essay/InsertNodeCommand.js","../../../src/essay/InsertFigureCommand.js","../../../src/essay/EssayConfiguration.js","../../../src/DocumentComponent.js","../../../src/DocumentPage.js"],"sourcesContent":["import { $$ } from 'substance'\n\nexport default function StatusMessage (props) {\n  return (\n    $$('div', { class: 'sc-status-message' },\n      props.children\n    )\n  )\n}\n","import {\n  Component, $$, Button, Icon, StackFill, HorizontalStack, DropdownMenu, Limiter,\n  Title\n} from 'substance'\nimport LoginStatus from './LoginStatus'\nimport SubstanceLogo from './SubstanceLogo'\nimport StatusMessage from './StatusMessage'\nimport { GetDocumentLink } from './utils'\n\nconst DOCUMENT_MENU = (document) => ({\n  items: [\n    { action: 'openVersions', label: 'Versions', icon: 'history' },\n    { url: GetDocumentLink(document, 'preview'), newTab: true, label: 'Preview', icon: 'eye' },\n    { action: 'deleteDocument', label: 'Delete', icon: 'trash' },\n    { action: 'downloadDocument', label: 'Download', icon: 'file-download' }\n  ]\n})\n\nexport default class DocumentHeader extends Component {\n  render () {\n    // ATTENTION: only when the user is logged in the document tools should be visible\n    const { user, document, readOnly, statusMessage } = this.props\n    return $$('div', { class: 'sc-header' },\n      $$(Limiter, { fullscreen: true },\n        $$(HorizontalStack, {},\n          $$(SubstanceLogo),\n          $$(Title, { ellipsis: true }, document.title),\n          $$(StackFill),\n          $$(StatusMessage, {}, statusMessage),\n          user && !readOnly\n            ? $$(Button, { style: 'plain', size: 'default', action: 'openVersions' },\n              $$(Icon, { icon: 'history' })\n            )\n            : null,\n          user && !readOnly\n            ? $$(DropdownMenu, DOCUMENT_MENU(document),\n              $$(Icon, { icon: 'ellipsis-h' })\n            )\n            : null,\n          user\n            ? $$(LoginStatus, { user })\n            : $$(Button, { style: 'primary', size: 'small', url: '/login' }, 'Login')\n        )\n      )\n    )\n  }\n}\n","import { DefaultDOMElement, prettyPrintXML } from '../dom'\nimport { Document, DocumentNode, DocumentSchema, documentHelpers, CHILDREN, STRING } from '../model'\n\nexport default class ManifestDocument extends Document {\n  constructor () {\n    super(DARSchema)\n  }\n\n  getDocumentNodes () {\n    return this.get('dar').resolve('documents')\n  }\n\n  getAssetNodes () {\n    return this.get('dar').resolve('assets')\n  }\n\n  getAssetByFilename (filename) {\n    return this.getAssetNodes().find(asset => asset.filename === filename)\n  }\n\n  getDocumentEntries () {\n    return this.getDocumentNodes().map(_getEntryFromDocumentNode)\n  }\n\n  getDocumentEntry (id) {\n    const entryNode = this.get(id)\n    if (entryNode && entryNode.type === 'document') {\n      return _getEntryFromDocumentNode(entryNode)\n    }\n  }\n\n  static createEmptyManifest () {\n    const doc = new ManifestDocument()\n    documentHelpers.createNodeFromJson(doc, {\n      type: 'dar',\n      id: 'dar',\n      documents: [],\n      assets: []\n    })\n    return doc\n  }\n\n  static fromXML (xmlStr) {\n    const xmlDom = DefaultDOMElement.parseXML(xmlStr)\n\n    const manifest = ManifestDocument.createEmptyManifest()\n    const documentEls = xmlDom.findAll('documents > document')\n    for (const el of documentEls) {\n      const documentNode = manifest.create({\n        type: 'document',\n        id: el.attr('id'),\n        documentType: el.attr('type'),\n        name: el.attr('name'),\n        // TODO: I would prefer 'filename' in the DAR XML\n        filename: el.attr('path')\n      })\n      documentHelpers.append(manifest, ['dar', 'documents'], documentNode.id)\n    }\n    const assetEls = xmlDom.findAll('assets > asset')\n    for (const el of assetEls) {\n      const assetNode = manifest.create({\n        type: 'asset',\n        id: el.attr('id'),\n        // TODO: I would prefer 'filename' in the DAR XML\n        filename: el.attr('path'),\n        // TODO: I would prefer 'mimetype' in the DAR XML\n        mimetype: el.attr('type')\n      })\n      documentHelpers.append(manifest, ['dar', 'assets'], assetNode.id)\n    }\n\n    return manifest\n  }\n\n  toXml (options = {}) {\n    const { assetRefIndex, prettyPrint } = options\n    const dar = this.get('dar')\n    const xmlDom = DefaultDOMElement.createDocument('xml')\n    const $$ = xmlDom.createElement.bind(xmlDom)\n    xmlDom.append(\n      $$('dar').append(\n        $$('documents').append(\n          dar.resolve('documents').map(node => {\n            const docEl = $$('document').attr({\n              id: node.id,\n              type: node.documentType,\n              path: node.filename\n            })\n            if (node.name) {\n              docEl.setAttribute('name', node.name)\n            }\n            return docEl\n          })\n        ),\n        $$('assets').append(\n          dar.resolve('assets').map(node => {\n            const assetEl = $$('asset').attr({\n              id: node.id,\n              // TODO: I would prefer to use filename instead of 'path' in the DAR XML\n              type: node.mimetype,\n              path: node.filename\n            })\n            // EXPERIMENTAL: storing 'unused' to allow for keeping assets around, e.g. when replacing an asset.\n            // Similar to the problem in versioning, for undo/redo during a session, all assets need to be retained.\n            // Note that this is only used internally, e.g. in RawArchiveFSStorage.\n            // TODO: rethink. Maybe we could instead analyse the content of the DAR,\n            // But that would either mean to load the documents, or doing a poor man's detection via XML.\n            if (assetRefIndex && !assetRefIndex.hasRef(node.id)) {\n              assetEl.setAttribute('unused', true)\n            }\n            return assetEl\n          })\n        )\n      )\n    )\n    const xmlStr = [\n      '<?xml version=\"1.0\" encoding=\"UTF-8\"?>',\n      '<!DOCTYPE dar PUBLIC \"-//SUBSTANCE//DTD DocumentArchive v1.0//EN\" \"DocumentArchive-1.0.dtd\">',\n      prettyPrint ? prettyPrintXML(xmlDom) : xmlDom.serialize()\n    ].join('\\n')\n    return xmlStr\n  }\n}\n\nfunction _getEntryFromDocumentNode (documentNode) {\n  return {\n    id: documentNode.id,\n    type: documentNode.documentType,\n    name: documentNode.name,\n    filename: documentNode.filename\n  }\n}\n\nclass DAR extends DocumentNode {}\nDAR.schema = {\n  type: 'dar',\n  documents: CHILDREN('document'),\n  assets: CHILDREN('asset')\n}\n\nclass DARDocument extends DocumentNode {}\nDARDocument.schema = {\n  type: 'document',\n  name: STRING,\n  documentType: STRING,\n  filename: STRING\n}\n\nclass DARAsset extends DocumentNode {}\nDARAsset.schema = {\n  type: 'asset',\n  name: STRING,\n  filename: STRING,\n  mimetype: STRING\n}\n\nconst DARSchema = new DocumentSchema({\n  DocumentClass: ManifestDocument,\n  nodes: [DAR, DARDocument, DARAsset]\n})\n","import ManifestDocument from './ManifestDocument'\n\nexport default {\n  load (manifestXml) {\n    return ManifestDocument.fromXML(manifestXml)\n  }\n}\n","import { forEach, last, uuid, EventEmitter, platform, isString } from '../util'\nimport { documentHelpers, DocumentIndex } from '../model'\nimport { AbstractEditorSession } from '../editor'\nimport ManifestLoader from './ManifestLoader'\n\nexport default class DocumentArchive extends EventEmitter {\n  constructor (storage, buffer, context, config) {\n    super()\n    this.storage = storage\n    this.buffer = buffer\n\n    this._config = config\n    this._archiveId = null\n    this._documents = null\n    this._pendingFiles = new Map()\n    this._assetRefs = new AssetRefCountIndex()\n  }\n\n  _loadDocument (type, record, documents) {\n    const loader = this._config.getDocumentLoader(type)\n    if (!loader) {\n      const msg = `No loader defined for document type ${type}`\n      console.error(msg, type, record)\n      throw new Error(msg)\n    }\n    const doc = loader.load(record.data, { archive: this, config: this._config })\n    return doc\n  }\n\n  addDocument (type, name, xml) {\n    const documentId = uuid()\n    const documents = this._documents\n    const document = this._loadDocument(type, { data: xml }, documents)\n    documents[documentId] = document\n    this._registerForChanges(document, documentId)\n    this._addDocumentRecord(documentId, type, name, documentId + '.xml')\n    return documentId\n  }\n\n  addAsset (file, blob) {\n    // sometimes it is desired to override the native file data e.g. file.name\n    // in that case, you can provide the file data seperate from the blob\n    if (!blob) blob = file\n    const filename = file.name\n    if (this.isFilenameUsed(filename)) {\n      throw new Error('A file with this name already exists: ' + filename)\n    }\n    let assetId\n    this._manifestSession.transaction(tx => {\n      const assetNode = tx.create({\n        type: 'asset',\n        id: assetId,\n        filename,\n        mimetype: file.type\n      })\n      assetId = assetNode.id\n      documentHelpers.append(tx, ['dar', 'assets'], assetId)\n    })\n    this.buffer.addBlob(assetId, {\n      id: assetId,\n      filename,\n      blob\n    })\n    // NOTE: blob urls are not supported in nodejs and I do not see that this is really necessary\n    // For sake of testing we use `PSEUDO-BLOB-URL:${filePath}`\n    // so that we can see if the rest of the system is working\n    const blobUrl = platform.inBrowser ? URL.createObjectURL(blob) : `PSEUDO-BLOB-URL:${filename}`\n    this._pendingFiles.set(assetId, {\n      id: assetId,\n      filename,\n      blob,\n      blobUrl\n    })\n    return assetId\n  }\n\n  getFilename (resourceId) {\n    const resource = this._documents.manifest.get(resourceId)\n    if (resource) {\n      return resource.filename\n    }\n  }\n\n  getAssetById (assetId) {\n    return this._documents.manifest.get(assetId)\n  }\n\n  getAssetForFilename (filename) {\n    return this._documents.manifest.getAssetByFilename(filename)\n  }\n\n  getAssetEntries () {\n    return this._documents.manifest.getAssetNodes().map(node => node.toJSON())\n  }\n\n  renameAsset (assetId, newFilename) {\n    const asset = this.getAssetById(assetId)\n    if (!asset) {\n      throw new Error(`No asset is registered with id ${assetId}`)\n    }\n    if (this.isFilenameUsed(newFilename)) {\n      throw new Error('A file with this name already exists: ' + newFilename)\n    }\n    this._manifestSession.transaction(tx => {\n      tx.set([asset.id, 'filename'], newFilename)\n    })\n  }\n\n  getBlob (assetId) {\n    // There are the following cases\n    // 1. the asset is on a different server (remote url)\n    // 2. the asset is on the local server (local url / relative path)\n    // 3. an unsaved is present as a blob in memory\n    const blobEntry = this._pendingFiles.get(assetId)\n    if (blobEntry) {\n      return Promise.resolve(blobEntry.blob)\n    } else {\n      return this.storage.getBlob(assetId)\n    }\n  }\n\n  getConfig () {\n    return this._config\n  }\n\n  getDocumentEntries () {\n    return this.getDocument('manifest').getDocumentEntries()\n  }\n\n  getDownloadLink (filename) {\n    const manifest = this.getDocument('manifest')\n    const asset = manifest.getAssetByFilename(filename)\n    if (asset) {\n      return this.resolveUrl(filename)\n    }\n  }\n\n  getDocument (docId) {\n    return this._documents[docId]\n  }\n\n  getDocuments () {\n    return this.getDocumentEntries().map(entry => this._documents[entry.id]).filter(Boolean)\n  }\n\n  getManifestSession () {\n    return this._manifestSession\n  }\n\n  isFilenameUsed (filename) {\n    // check all document entries and referenced assets if the filename\n    // TODO: this could be optimized by keeping a set of used filenames up-to-date\n    for (const entry of this.getDocumentEntries()) {\n      if (entry.filename === filename) return true\n    }\n    const assetIds = this._assetRefs.getReferencedAssetIds()\n    for (const assetId of assetIds) {\n      const asset = this.getAssetById(assetId)\n      if (asset) {\n        if (asset.filename === filename) return true\n      }\n    }\n  }\n\n  hasPendingChanges () {\n    return this.buffer.hasPendingChanges()\n  }\n\n  load (archiveId, cb) {\n    const storage = this.storage\n    const buffer = this.buffer\n    storage.read(archiveId, (err, upstreamArchive) => {\n      if (err) return cb(err)\n      buffer.load(archiveId, err => {\n        if (err) return cb(err)\n        // Ensure that the upstream version is compatible with the buffer.\n        // The buffer may contain pending changes.\n        // In this case the buffer should be based on the same version\n        // as the latest version in the storage.\n        if (!buffer.hasPendingChanges()) {\n          const localVersion = buffer.getVersion()\n          const upstreamVersion = upstreamArchive.version\n          if (localVersion && upstreamVersion && localVersion !== upstreamVersion) {\n            // If the local version is out-of-date, it would be necessary to 'rebase' the\n            // local changes.\n            console.error('Upstream document has changed. Discarding local changes')\n            this.buffer.reset(upstreamVersion)\n          } else {\n            buffer.reset(upstreamVersion)\n          }\n        }\n        // convert raw archive to documents (=ingestion)\n        const documents = this._ingest(upstreamArchive)\n        // contract: there must be a manifest\n        if (!documents.manifest) {\n          throw new Error('There must be a manifest.')\n        }\n        // Creating an EditorSession for the manifest\n        this._manifestSession = new AbstractEditorSession('manifest', documents.manifest)\n\n        // apply pending changes\n        if (!buffer.hasPendingChanges()) {\n          // TODO: when we have a persisted buffer we need to apply all pending\n          // changes.\n          // For now, we always start with a fresh buffer\n        } else {\n          buffer.reset(upstreamArchive.version)\n        }\n        // register for any changes in each document\n        this._registerForAllChanges(documents)\n\n        this._archiveId = archiveId\n        this._documents = documents\n\n        cb(null, this)\n      })\n    })\n  }\n\n  removeDocument (documentId) {\n    const document = this._documents[documentId]\n    if (document) {\n      this._unregisterFromDocument(document)\n      // TODO: this is not ready for collab\n      const manifest = this._documents.manifest\n      documentHelpers.removeFromCollection(manifest, ['dar', 'documents'], documentId)\n      documentHelpers.deepDeleteNode(manifest, documentId)\n    }\n  }\n\n  renameDocument (documentId, name) {\n    // TODO: this is not ready for collab\n    const manifest = this._documents.manifest\n    const documentNode = manifest.get(documentId)\n    documentNode.name = name\n  }\n\n  resolveUrl (idOrFilename) {\n    // console.log('Resolving url for', idOrFilename)\n    let url = null\n    const asset = this.getAssetById(idOrFilename) || this.getAssetForFilename(idOrFilename)\n    if (asset) {\n      // until saved, files have a blob URL\n      const blobEntry = this._pendingFiles.get(asset.id)\n      if (blobEntry) {\n        url = blobEntry.blobUrl\n      } else {\n        // Note: arguments for getAssetUrl() must be serializable as this is an RPC\n        url = this.storage.getAssetUrl(this._archiveId, { id: asset.id, filename: asset.filename })\n      }\n    }\n    // console.log('... url =', url)\n    return url\n  }\n\n  save (cb) {\n    // FIXME: buffer.hasPendingChanges() is not working\n    this.buffer._isDirty.manuscript = true\n    this._save(this._archiveId, cb)\n  }\n\n  /*\n    Save as is implemented as follows.\n\n    1. clone: copy all files from original archive to new archive (backend)\n    2. save: perform a regular save using user buffer (over new archive, including pending\n       documents and blobs)\n  */\n  saveAs (newArchiveId, cb) {\n    this.storage.clone(this._archiveId, newArchiveId, (err) => {\n      if (err) return cb(err)\n      this._save(newArchiveId, cb)\n    })\n  }\n\n  /*\n    Adds a document record to the manifest\n  */\n  _addDocumentRecord (documentId, type, name, filename) {\n    this._manifestSession.transaction(tx => {\n      const documentNode = tx.create({\n        type: 'document',\n        id: documentId,\n        documentType: type,\n        name,\n        filename\n      })\n      documentHelpers.append(tx, ['dar', 'documents', documentNode.id])\n    })\n  }\n\n  getUniqueFileName (filename) {\n    const [name, ext] = _getNameAndExtension(filename)\n    let candidate\n    // first try the canonical one\n    candidate = `${name}.${ext}`\n    if (this.isFilenameUsed(candidate)) {\n      let count = 2\n      // now use a suffix counting up\n      while (true) {\n        candidate = `${name}_${count++}.${ext}`\n        if (!this.isFilenameUsed(candidate)) break\n      }\n    }\n\n    return candidate\n  }\n\n  _loadManifest (record) {\n    return ManifestLoader.load(record.data)\n  }\n\n  _registerForAllChanges (documents) {\n    forEach(documents, (document, docId) => {\n      this._registerForChanges(document, docId)\n    })\n  }\n\n  _registerForChanges (doc, docId) {\n    // record any change to allow for incremental synchronisation, or storage of incremental data\n    doc.on('document:changed', change => {\n      this.buffer.addChange(docId, change)\n      setTimeout(() => {\n        // Apps can subscribe to this (e.g. to show there's pending changes)\n        this.emit('archive:changed')\n      }, 0)\n    }, this)\n    // add an index for counting refs to assets\n    doc.addIndex('_assetRefs', this._assetRefs)\n  }\n\n  _repair () {\n    // no-op\n  }\n\n  /*\n    Create a raw archive for upload from the changed resources.\n  */\n  _save (archiveId, cb) {\n    const buffer = this.buffer\n    const storage = this.storage\n\n    this._exportChanges(this._documents, buffer)\n      .then(rawArchiveUpdate => {\n        // CHALLENGE: we either need to lock the buffer, so that\n        // new changes are interfering with ongoing sync\n        // or we need something pretty smart caching changes until the\n        // sync has succeeded or failed, e.g. we could use a second buffer in the meantime\n        // probably a fast first-level buffer (in-mem) is necessary anyways, even in conjunction with\n        // a slower persisted buffer\n        storage.write(archiveId, rawArchiveUpdate, (err, res) => {\n          // TODO: this need to implemented in a more robust fashion\n          // i.e. we should only reset the buffer if storage.write was successful\n          if (err) return cb(err)\n\n          // TODO: if successful we should receive the new version as response\n          // and then we can reset the buffer\n          let _res = { version: '0' }\n          if (isString(res)) {\n            try {\n              _res = JSON.parse(res)\n            } catch (err) {\n              console.error('Invalid response from storage.write()')\n            }\n          }\n          // console.log('Saved. New version:', res.version)\n          buffer.reset(_res.version)\n          // revoking object urls\n          if (platform.inBrowser) {\n            for (const blobEntry of this._pendingFiles.values()) {\n              window.URL.revokeObjectURL(blobEntry.blobUrl)\n            }\n          }\n          this._pendingFiles.clear()\n\n          // After successful save the archiveId may have changed (save as use case)\n          this._archiveId = archiveId\n          this.emit('archive:saved')\n          cb(null, rawArchiveUpdate)\n        })\n      })\n      .catch(cb)\n  }\n\n  _unregisterFromDocument (document) {\n    document.off(this)\n  }\n\n  /*\n    Uses the current state of the buffer to generate a rawArchive object\n    containing all changed documents\n  */\n  async _exportChanges (documents, buffer) {\n    const resources = {}\n    const manifestUpdate = this._exportManifest(documents, buffer)\n    if (manifestUpdate) {\n      resources.manifest = manifestUpdate\n    }\n    Object.assign(resources, this._exportChangedDocuments(documents, buffer))\n    const assetUpdates = await this._exportChangedAssets(documents, buffer)\n    Object.assign(resources, assetUpdates)\n    const rawArchive = {\n      resources,\n      version: buffer.getVersion(),\n      diff: buffer.getChanges()\n    }\n    return rawArchive\n  }\n\n  _exportManifest (documents, buffer, rawArchive) {\n    const manifest = documents.manifest\n    if (buffer.hasResourceChanged('manifest')) {\n      const manifestXmlStr = manifest.toXml({ assetRefIndex: this._assetRefs, prettyPrint: true })\n      return {\n        id: 'manifest',\n        filename: 'manifest.xml',\n        data: manifestXmlStr,\n        encoding: 'utf8',\n        updatedAt: Date.now()\n      }\n    }\n  }\n\n  async _exportChangedAssets (documents, buffer) {\n    const manifest = documents.manifest\n    const assetNodes = manifest.getAssetNodes()\n    const resources = {}\n    for (const asset of assetNodes) {\n      const assetId = asset.id\n      if (buffer.hasBlobChanged(assetId)) {\n        const filename = asset.filename || assetId\n        const blobRecord = buffer.getBlob(assetId)\n        // convert the blob into an array buffer\n        // so that it can be serialized correctly\n        const data = await blobRecord.blob.arrayBuffer()\n        resources[assetId] = {\n          id: assetId,\n          filename,\n          data,\n          encoding: 'blob',\n          createdAt: Date.now(),\n          updatedAt: Date.now()\n        }\n      }\n    }\n    return resources\n  }\n\n  _exportChangedDocuments (documents, buffer, rawArchive) {\n    // Note: we are only adding resources that have changed\n    // and only those which are registered in the manifest\n    const entries = this.getDocumentEntries()\n    const resources = {}\n    for (const entry of entries) {\n      const { id, type, filename } = entry\n      const document = documents[id]\n      // TODO: how should we communicate file renamings?\n      resources[id] = {\n        id,\n        filename,\n        data: this._exportDocument(type, document, documents),\n        encoding: 'utf8',\n        updatedAt: Date.now()\n      }\n    }\n    return resources\n  }\n\n  _exportDocument (type, document, documents) { // eslint-disable-line no-unused-vars\n    // TODO: we need better concept for handling errors\n    const context = { archive: this, config: this._config }\n    const options = { prettyPrint: true }\n    return document.toXml(context, options)\n  }\n\n  _getManifestXML (rawArchive) {\n    return rawArchive.resources.manifest.data\n  }\n\n  /*\n    Creates EditorSessions from a raw archive.\n    This might involve some consolidation and ingestion.\n    */\n  _ingest (rawArchive) {\n    const documents = {}\n    const manifestXML = this._getManifestXML(rawArchive)\n    const manifest = this._loadManifest({ data: manifestXML })\n    documents.manifest = manifest\n\n    // HACK: assigning loaded documents here already, so that loaders can\n    // access other documents, e.g. the manifest\n    this._documents = documents\n\n    const entries = manifest.getDocumentEntries()\n    entries.forEach(entry => {\n      const id = entry.id\n      const record = rawArchive.resources[id]\n      // Note: this happens when a resource is referenced in the manifest\n      // but is not there actually\n      // we skip loading here and will fix the manuscript later on\n      if (!record) return\n      // TODO: we need better concept for handling errors\n      const document = this._loadDocument(entry.type, record, documents)\n      documents[id] = document\n    })\n    return documents\n  }\n}\n\nfunction _getNameAndExtension (name) {\n  const frags = name.split('.')\n  let ext = ''\n  if (frags.length > 1) {\n    ext = last(frags)\n    name = frags.slice(0, frags.length - 1).join('.')\n  }\n  return [name, ext]\n}\n\nclass AssetRefCountIndex extends DocumentIndex {\n  constructor () {\n    super()\n\n    this._refCounts = new Map()\n  }\n\n  select (node) {\n    return node.isInstanceOf('@asset')\n  }\n\n  clear () {\n    this._refCounts = new Map()\n  }\n\n  create (node) {\n    this._incRef(node.src)\n  }\n\n  delete (node) {\n    this._decRef(node.src)\n  }\n\n  update (node, path, newValue, oldValue) {\n    if (path[1] === 'src') {\n      this._decRef(oldValue)\n      this._incRef(newValue)\n    }\n  }\n\n  getReferencedAssetIds () {\n    const ids = []\n    for (const [id, count] of this._refCounts.entries()) {\n      if (count > 0) {\n        ids.push(id)\n      }\n    }\n    return ids\n  }\n\n  hasRef (assetId) {\n    return this._refCounts.has(assetId) && this._refCounts.get(assetId) > 0\n  }\n\n  _incRef (assetId) {\n    if (!assetId) return\n    let refCount = 0\n    if (this._refCounts.has(assetId)) {\n      refCount = this._refCounts.get(assetId)\n    }\n    refCount = Math.max(0, refCount + 1)\n    this._refCounts.set(assetId, refCount)\n  }\n\n  _decRef (assetId) {\n    if (!assetId) return\n    if (this._refCounts.has(assetId)) {\n      const refCount = Math.max(0, this._refCounts.get(assetId) - 1)\n      this._refCounts.set(assetId, refCount)\n    }\n  }\n}\n","export default class InMemoryDarBuffer {\n  constructor () {\n    this._version = null\n    this._changes = []\n    this._isDirty = {}\n    this._blobs = {}\n  }\n\n  getVersion () {\n    return this._version\n  }\n\n  load(archiveId, cb) { // eslint-disable-line\n    cb()\n  }\n\n  addChange (docId, change) {\n    // HACK: if there are no ops we skip\n    if (change.ops.length === 0) return\n    // console.log('RECORD CHANGE', docId, change)\n    this._isDirty[docId] = true\n    this._changes.push({\n      docId, change\n    })\n  }\n\n  hasPendingChanges () {\n    return this._changes.length > 0\n  }\n\n  getChanges () {\n    return this._changes.slice()\n  }\n\n  hasResourceChanged (docId) {\n    return this._isDirty[docId]\n  }\n\n  hasBlobChanged (assetId) {\n    return Boolean(this._isDirty[assetId])\n  }\n\n  addBlob (assetId, blob) {\n    this._isDirty[assetId] = true\n    this._blobs[assetId] = blob\n  }\n\n  getBlob (assetId) {\n    return this._blobs[assetId]\n  }\n\n  reset (version) {\n    this._version = version\n    this._changes = []\n    this._blobs = {}\n    this._isDirty = {}\n  }\n}\n","import DocumentArchive from './DocumentArchive'\nimport InMemoryDarBuffer from './InMemoryDarBuffer'\n\nexport default function loadArchive (rawArchive, config) {\n  const archive = new DocumentArchive(\n    // Note: this is a minimalistic Storage adapter with only `read()` implemented\n    {\n      read (_, cb) {\n        cb(null, rawArchive)\n      },\n      write (_, __, cb) {\n        cb()\n      },\n      getAssetUrl (_, asset) {\n        const resource = rawArchive.resources[asset.id]\n        if (resource.encoding === 'url') {\n          return resource.data\n        }\n      }\n    },\n    new InMemoryDarBuffer(),\n    {},\n    config\n  )\n  // Note: we are using a synchronous store here (in memory)\n  // so this is actually synchronous\n  archive.load(null, err => {\n    if (err) {\n      console.error(err)\n    }\n  })\n  return archive\n}\n","import { Component, $$ } from 'substance'\n\nexport default class Switch extends Component {\n  render () {\n    const { value, label } = this.props\n    const switchEl = $$('label', { className: 'sc-switch' },\n      $$('input', { type: 'checkbox', checked: Boolean(value) }).on('change', this._onChange),\n      $$('span', { className: 'se-switch' })\n    )\n    if (label) {\n      switchEl.append(\n        $$('span', { className: 'se-label' }, label)\n      )\n    }\n    return switchEl\n  }\n\n  _onChange (event) {\n    // TODO: this logic should somehow be shared amongst all these action impls\n    // e.g. introduce a AbstractAction component\n    const { action, args } = this.props\n    if (action) {\n      // send position arguments if 'args' is specified\n      const _args = args || [this.props]\n      this.send(action, ..._args)\n    }\n  }\n}\n","import { $$, Component, Button, Icon, StackFill, HorizontalStack, Limiter } from 'substance'\nimport Switch from './Switch'\n\nexport default class VersionsLeftHeader extends Component {\n  render () {\n    const { showAutosaves } = this.props\n    return $$('div', { class: 'sc-header' },\n      $$(Limiter, { fullscreen: true },\n        $$(HorizontalStack, {},\n          $$(Button, { size: 'large', style: 'plain', action: 'closeVersions' },\n            $$(Icon, { icon: 'arrow-left' }),\n            '\\u00A0',\n            '\\u00A0',\n            'Versions'\n          ),\n          $$(StackFill),\n          $$(Switch, { label: 'Autosaved', value: showAutosaves, onchange: this._onChangeShowAutosaves })\n        )\n      )\n    )\n  }\n\n  _onChangeShowAutosaves (e) {\n    e.stopPropagation()\n    this.send('toggleShowAutosaves')\n  }\n}\n","import { Component, $$, domHelpers, Icon, HorizontalStack } from 'substance'\n\nexport default class VersionItem extends Component {\n  render () {\n    const { version, isSelected } = this.props\n    const { isAuto, isPublic } = version\n\n    const el = $$('div', { class: 'sc-version-item' })\n    if (isSelected) el.addClass('sm-selected')\n    if (isAuto) el.addClass('sm-auto')\n    if (isPublic) el.addClass('sm-public')\n\n    el.append(\n      VersionItem.renderItemContent(version)\n    )\n\n    el.on('click', this._onClick)\n    el.on('dblclick', domHelpers.stopAndPrevent)\n    el.on('contextmenu', this._onContextmenu)\n\n    return el\n  }\n\n  static renderItemContent (version) {\n    if (!version) return\n\n    const { isAuto, createdAt, description, isPublic } = version\n    const dateTimeFormat = { day: 'numeric', month: 'short', hour: '2-digit', minute: '2-digit' }\n    // TODO: we need some UX decisions here\n    // e.g. we could decide to leave auto saves just as recovery points (can not be published)\n    // or otherwise turn auto saves in an explicit draft\n    return $$(HorizontalStack, {},\n      $$('div', { class: 'se-created-at' }, new Date(createdAt).toLocaleString(undefined, dateTimeFormat)),\n      $$('div', { class: 'se-description' + (isAuto ? ' sm-autosaved' : '') },\n        isAuto\n          ? 'Autosaved version'\n          : description,\n        isPublic\n          ? ['\\u00A0', $$(Icon, { icon: 'globe-americas' })]\n          : null\n      ).ref('container')\n    )\n  }\n\n  _onClick (e) {\n    domHelpers.stopAndPrevent(e)\n    this._select()\n  }\n\n  _onContextmenu (e) {\n    domHelpers.stopAndPrevent(e)\n    this._select()\n    const desiredPos = { x: e.clientX, y: e.clientY }\n    this.send('requestPopover', {\n      requester: this,\n      desiredPos,\n      content: {\n        type: 'menu',\n        noIcons: true,\n        items: this._getContextMenuItems()\n      },\n      position: 'relative'\n    })\n  }\n\n  _select () {\n    this.send('selectVersion', this.props.version)\n  }\n\n  _getContextMenuItems () {\n    const { user, document, version } = this.props\n    return VersionItem.getContextMenuItems(user, document, version)\n  }\n\n  static getContextMenuItems (user, document, version) {\n    const items = []\n    if (user) {\n      if (version.id === 'current') {\n        if (document.hasUnversionedChanges) {\n          items.push(\n            { action: 'createRevision', label: 'Create Revision', args: [version] }\n          )\n        }\n      } else {\n        // an autosave needs to be turned into a draft first before being editable or for making it public\n        if (version.isAuto) {\n          items.push(\n            { action: 'createRevision', label: 'Create Revision', args: [version] }\n          )\n        } else {\n          items.push(\n            { action: 'editRevision', label: 'Edit', args: [version] }\n          )\n          items.push(\n            { action: 'togglePublic', label: version.isPublic ? 'Make private' : 'Make public', args: [version] }\n          )\n        }\n        items.push(\n          { action: 'deleteVersion', label: 'Delete', args: [version] }\n        )\n        if (version.documentChangeId !== document.changeId) {\n          items.push(\n            { action: 'restoreVersion', label: 'Restore', args: [version] }\n          )\n        }\n      }\n    }\n    return items\n  }\n}\n","import {\n  Component, $$, Button, Icon, StackFill, HorizontalStack, DropdownMenu, Limiter,\n  Title\n} from 'substance'\nimport VersionItem from './VersionItem'\n\nexport default class VersionsRightHeader extends Component {\n  render () {\n    const { document, version } = this.props\n    const enabled = (version.id === 'current' && document.hasUnversionedChanges) || version.isAuto\n    return $$('div', { class: 'sc-versions-right-header sc-header' },\n      $$(Limiter, { fullscreen: true },\n        $$(HorizontalStack, {},\n          $$(Title, {},\n            VersionItem.renderItemContent(version)\n          ),\n          $$(StackFill),\n          $$(Button, { style: 'primary', size: 'default', action: 'createRevision', args: [version], disabled: !enabled }, 'Create Revision'),\n          this._getEllipsesMenu()\n        )\n      )\n    )\n  }\n\n  _getEllipsesMenu () {\n    const { user, document, version } = this.props\n    if (version) {\n      // For now we only have those items in the ellipses menu\n      // which are also shown in the items context menu\n      const items = VersionItem.getContextMenuItems(user, document, version)\n      if (items.length > 0) {\n        return $$(DropdownMenu, { items },\n          $$(Icon, { icon: 'ellipsis-v' })\n        )\n      }\n    }\n  }\n}\n","import { Component, $$, renderProperty, Limiter } from 'substance'\n\nexport default class Essay extends Component {\n  getChildContext () {\n    return {\n      // render headings with level+1 because we use h1 for title\n      headingOffset: 1\n    }\n  }\n\n  render () {\n    const { node } = this.props\n    const doc = node.getDocument()\n    return $$('div', { class: 'sc-essay' },\n      $$(Limiter, {},\n        $$('div', { class: 'se-essay-content' },\n          renderProperty(this, doc, [node.id, 'title'], { placeholder: 'Untitled' })\n            // HACK: We apply heading class manually, to keep a flat structure\n            // and avoid wrapping a div in h1 tag.\n            .addClass('sc-heading')\n            .addClass('sm-level-1'),\n          renderProperty(this, doc, [node.id, 'body'], { placeholder: 'Write your article here.' })\n        )\n      )\n    )\n  }\n}\n","import { Component, $$, createEditorContext, EditorSession } from 'substance'\nimport Essay from './Essay'\n\n// TODO: work on a slimmer Reader impl\nexport default class EssayReader extends Component {\n  constructor (...args) {\n    super(...args)\n\n    this._initialize(this.props)\n  }\n\n  _initialize (props) {\n    // HACK: this mess is necessary to use components from Texture\n    // which are too much coupled to context.api and context.editorSession\n    // TODO: we should try to make Texture components more reusable\n\n    const { archive } = props\n    const config = archive.getConfig()\n    const manuscript = archive.getDocument('manuscript')\n\n    // HACK: unfortunately we need an EditorSession, otherwise we can not create\n    // an ArticleAPI, which all components rely on.\n    // TODO: this should be possible without any session\n    const editorSession = new EditorSession('manuscript', manuscript, config, {\n      overlayId: null\n    })\n    this.editorSession = editorSession\n    const editorState = editorSession.editorState\n    this.editorState = editorState\n\n    const context = Object.assign(this.context, createEditorContext(config, editorSession), {\n      config: config,\n      editorSession,\n      editorState,\n      archive,\n      urlResolver: archive,\n      editable: false\n    })\n    this.context = context\n\n    editorSession.setContext(context)\n    editorSession.initialize()\n\n    // HACK: resetting the app state here, because things might get 'dirty' during initialization\n    // TODO: find out if there is a better way to do this\n    editorState._reset()\n  }\n\n  willReceiveProps (props) {\n    if (props.archive !== this.props.archive) {\n      this._dispose()\n      this._initialize(props)\n      this.empty()\n    }\n  }\n\n  dispose () {\n    this._dispose()\n  }\n\n  _dispose () {\n    this.editorSession.dispose()\n  }\n\n  render () {\n    const { archive, disabled } = this.props\n    const manuscript = archive.getDocument('manuscript')\n    const el = $$('div').addClass('sc-essay-reader')\n    el.append(\n      $$(Essay, { node: manuscript.root, readOnly: true, disabled })\n    )\n    return el\n  }\n}\n","import { Component, $$ } from 'substance'\nimport EssayReader from './essay/EssayReader'\n\n// TODO: later we could load components according to the specific document type\nexport default class DocumentReader extends Component {\n  defineContext (props) {\n    const { archive } = props\n    return {\n      archive\n    }\n  }\n\n  render () {\n    return $$(EssayReader, this.props)\n  }\n}\n","import { $$ } from 'substance'\n\n/* Just a little layout component for forms */\nexport default function FourSquareLaoyut (props) {\n  return (\n    $$('div', { class: 'sc-four-square-layout' },\n      $$('div', { class: 'se-top-left' },\n        props.children[0]\n      ),\n      $$('div', { class: 'se-top-right' },\n        props.children[1]\n      ),\n      $$('div', { class: 'se-bottom-left' },\n        props.children[2]\n      ),\n      $$('div', { class: 'se-bottom-right' },\n        props.children[3]\n      )\n    )\n  )\n}\n","import { Component, $$, HorizontalStack } from 'substance'\n\nexport default class RadioToggle extends Component {\n  getInitialState () {\n    const value = this.props.value\n    return { value }\n  }\n\n  render () {\n    const options = this.props.options\n\n    return $$('div', { className: 'sc-radio-toggle' },\n      $$(HorizontalStack, {},\n        options.map(option => {\n          const isActive = option.value === this.state.value\n          const labelEl = $$('div', { className: 'se-radio-label' },\n            $$('div', { className: 'se-label' }, option.label)\n          )\n          if (option.description) {\n            labelEl.append(\n              $$('div', { className: 'se-description' }, option.description)\n            )\n          }\n          return $$('div', { className: 'se-radio-option' + (isActive ? ' sm-active' : '') },\n            $$(HorizontalStack, {},\n              $$('div', { className: 'se-radio-input' },\n                $$('input', { name: 'radio-toggle', type: 'radio', value: option.value, checked: isActive })\n              ),\n              labelEl\n            )\n          ).on('click', this.val.bind(this, option.value))\n        })\n      )\n    )\n  }\n\n  val (value) {\n    if (value) {\n      this.setState({ value })\n    } else {\n      return this.state.value\n    }\n  }\n}\n","import {\n  Component, $$, domHelpers, isNil, HorizontalStack, ModalCanvas, Modal,\n  Input, Form, FormRow\n} from 'substance'\nimport loadArchive from 'substance/dar/loadArchive'\nimport sendRequest from './_sendRequest'\nimport VersionsLeftHeader from './VersionsLeftHeader'\nimport VersionsRightHeader from './VersionsRightHeader'\nimport VersionItem from './VersionItem'\nimport DocumentReader from './DocumentReader'\nimport FourSquareLayout from './FourSquareLayout'\nimport RadioToggle from './RadioToggle'\n\nexport default class Versions extends Component {\n  getInitialState () {\n    const { document, archive } = this.props\n    // a fake version record for the current document version which might\n    // not be versioned yet\n    this._currentVersion = {\n      id: 'current',\n      isAuto: false,\n      isPublic: false,\n      description: 'Current',\n      get createdAt () {\n        return document.updatedAt\n      },\n      get documentChangeId () {\n        return document.changeId\n      }\n    }\n    return {\n      versions: [],\n      showAutosaves: false,\n      selectedVersion: this._currentVersion,\n      selectedVersionArchive: archive\n    }\n  }\n\n  getActionHandlers () {\n    return {\n      toggleShowAutosaves: this._toggleShowAutosaves,\n      selectVersion: this._selectVersion,\n      deleteVersion: this._deleteVersion,\n      createRevision: this._createRevision,\n      editRevision: this._editRevision,\n      togglePublic: this._togglePublic,\n      requestPopover: this._interceptPopoverRequest\n    }\n  }\n\n  didMount () {\n    this._getVersions().then(versions => {\n      this.extendState({ versions })\n    })\n  }\n\n  didUpdate (oldProps) {\n    if (oldProps.document !== this.props.document) {\n      this._getVersions().then(versions => {\n        this.extendState({ versions })\n      })\n    }\n  }\n\n  render () {\n    const { user, document } = this.props\n    const { showAutosaves, selectedVersion: version } = this.state\n    const el = $$('div', { class: 'sc-versions' },\n      $$(FourSquareLayout, {},\n        $$(VersionsLeftHeader, { showAutosaves }),\n        $$(VersionsRightHeader, { user, document, version }),\n        this._renderVersions(),\n        this._renderSelectedVersion()\n      ),\n      // The ModalCanvas is empty by default, and only has content if\n      // we open a modal (e.g. VersionModal)\n      $$(ModalCanvas).ref('modalCanvas')\n    )\n    // prevent some events from bubbling up\n    ;['copy', 'cut', 'paste', 'keydown'].forEach(event => el.on(event, domHelpers.stop))\n\n    return el\n  }\n\n  _renderVersions () {\n    const { user, document } = this.props\n    const { versions, selectedVersion } = this.state\n    const el = $$('div', { class: 'se-versions' }).ref('versions')\n\n    el.append(\n      $$(_CurrentVersionItem, {\n        document,\n        version: this._currentVersion,\n        isSelected: _isSelected(this._currentVersion, selectedVersion)\n      }).ref('current')\n    )\n\n    if (versions) {\n      for (const version of versions) {\n        // skip autosaves if showAutosaves switch is off\n        if (version.isAuto && !this.state.showAutosaves) continue\n        const isSelected = _isSelected(version, selectedVersion)\n        const isCurrent = document.changeId === version.changeId\n        el.append(\n          $$(VersionItem, {\n            user,\n            document,\n            version,\n            isSelected,\n            isCurrent\n          }).ref(version.id)\n        )\n      }\n    }\n    return el\n  }\n\n  _renderSelectedVersion () {\n    const { selectedVersionArchive: archive } = this.state\n    if (archive) {\n      const selectedVersionEl = $$('div').addClass('se-selected-version')\n      selectedVersionEl.append(\n        $$(DocumentReader, { archive, disabled: true })\n      )\n      return selectedVersionEl\n    }\n  }\n\n  _getVersions (showAutosaves) {\n    const { document } = this.props\n    if (isNil(showAutosaves)) {\n      showAutosaves = this.state.showAutosaves\n    }\n    return sendRequest({\n      url: '/api/listVersions',\n      method: 'POST',\n      json: true,\n      data: {\n        documentId: document.id,\n        noAuto: !showAutosaves\n      }\n    })\n  }\n\n  _toggleShowAutosaves () {\n    let selectedVersion = this.state.selectedVersion\n    if (selectedVersion && selectedVersion.isAuto) {\n      selectedVersion = null\n    }\n    const showAutosaves = !this.state.showAutosaves\n    this._getVersions(showAutosaves).then(versions => {\n      this.extendState({\n        showAutosaves,\n        versions,\n        selectedVersion\n      })\n    })\n  }\n\n  _selectVersion (version) {\n    if (this.state.selectedVersion === version) return\n\n    // first clear the content\n    this.extendState({ selectedVersion: version, selectedVersionArchive: null })\n\n    if (version === this._currentVersion) {\n      const archive = this.props.archive\n      this.extendState({ selectedVersionArchive: archive })\n    } else {\n      const document = this.props.document\n      // then fetch the version archive data\n      sendRequest({\n        url: '/api/getArchiveForVersion',\n        method: 'POST',\n        json: true,\n        data: {\n          documentId: document.id,\n          versionId: version.id\n        }\n      }).then(rawArchive => {\n        const archive = loadArchive(rawArchive, this.context.config)\n        this.extendState({ selectedVersionArchive: archive })\n      })\n    }\n  }\n\n  _createRevision () {\n    const { selectedVersion } = this.state\n    const modalCanvas = this.refs.modalCanvas\n\n    modalCanvas.openModal(() => {\n      return $$(_RevisionModal, { mode: 'create', version: selectedVersion })\n    }).then(modal => {\n      if (!modal) return\n      const { revisionType, description } = modal.getResult()\n      const isPublic = revisionType === 'public'\n\n      // this is used either to create a revision from the current unversioned document\n      // or to create a revision from an autosaved version\n      if (selectedVersion === this._currentVersion) {\n        this._createRevisionFromCurrentVersion({ description, isPublic })\n      } else if (selectedVersion.isAuto) {\n        this._updateVersion(selectedVersion, {\n          isAuto: false,\n          description,\n          isPublic\n        })\n      }\n    })\n  }\n\n  _editRevision (version) {\n    const modalCanvas = this.refs.modalCanvas\n    modalCanvas.openModal(() => {\n      return $$(_RevisionModal, { mode: 'edit', version })\n    }).then(modal => {\n      if (!modal) return\n      const { revisionType, description } = modal.getResult()\n      this._updateVersion(version, {\n        isPublic: revisionType === 'public',\n        description\n      })\n    })\n  }\n\n  _togglePublic (version) {\n    this._updateVersion(version, { isPublic: !version.isPublic })\n  }\n\n  _createRevisionFromCurrentVersion ({ description, isPublic }) {\n    const { document } = this.props\n    return sendRequest({\n      url: '/api/createVersion',\n      method: 'POST',\n      json: true,\n      data: {\n        documentId: document.id,\n        description,\n        isPublic,\n        isAuto: false\n      }\n    }).then(version => {\n      this._updateSelectedVersion(version)\n      this.send('updateDocumentRecord')\n    })\n  }\n\n  _deleteVersion (version) {\n    // TODO: show dialog before permanently deleting a version\n    const { document } = this.props\n    sendRequest({\n      url: '/api/deleteVersion',\n      method: 'POST',\n      json: true,\n      data: {\n        documentId: document.id,\n        versionId: version.id\n      }\n    }).then(() => {\n      this._updateSelectedVersion(null)\n      this.send('updateDocumentRecord')\n    })\n  }\n\n  _updateVersion (version, update) {\n    const { document } = this.props\n    sendRequest({\n      url: '/api/updateVersion',\n      method: 'POST',\n      json: true,\n      data: {\n        documentId: document.id,\n        versionId: version.id,\n        update\n      }\n    }).then(updatedVersion => {\n      this._updateSelectedVersion(updatedVersion)\n      this.send('updateDocumentRecord')\n    })\n  }\n\n  _updateSelectedVersion (selectedVersion) {\n    this._getVersions().then(versions => {\n      this.extendState({\n        versions,\n        selectedVersion,\n        selectedVersionArchive: null\n      })\n    })\n  }\n\n  _getScrollableElement () {\n    this.refs.versions.getElement()\n  }\n\n  _interceptPopoverRequest (requestParams) {\n    const parent = this.getParent()\n    parent.send('requestPopover', requestParams, this._getScrollableElement())\n  }\n}\n\nclass _CurrentVersionItem extends VersionItem {\n  render () {\n    return super.render().addClass('sc-version-item sm-current')\n  }\n\n  _renderItemContent () {\n    const { version } = this.props\n    return $$(HorizontalStack, {},\n      $$('div', { class: 'se-created-at' }, new Date(version.createdAt).toLocaleString(undefined, { dateStyle: 'long', timeStyle: 'short' })),\n      $$('div', { class: 'se-description' }, version.description)\n    )\n  }\n\n  _getContextMenuItems () {\n    const { document, version } = this.props\n    if (document.hasUnversionedChanges) {\n      return [\n        { action: 'createRevision', label: 'Create Revision', args: [version] }\n      ]\n    }\n    return []\n  }\n}\n\nclass _RevisionModal extends Component {\n  didMount () {\n    // TODO: autofocus is not working somehow\n    this.refs.description.focus()\n  }\n\n  render () {\n    const { mode, version } = this.props\n    const value = version.isPublic ? 'public' : 'draft'\n    const options = [\n      { value: 'draft', label: 'Private', description: 'Only collaborators have access.' },\n      { value: 'public', label: 'Public', description: 'Makes this revision available for readers on the web.' }\n    ]\n    const modalProps = mode === 'create'\n      ? { title: 'Create revision', cancelLabel: 'Cancel', confirmLabel: 'Create Revision' }\n      : { title: 'Edit revision', cancelLabel: 'Cancel', confirmLabel: 'Update Revision' }\n    return $$(Modal, modalProps, $$(Form, {},\n      $$(FormRow, {},\n        $$(RadioToggle, { options, ref: 'revisionType', value })\n      ),\n      $$(FormRow, { label: 'Description' },\n        $$(Input, { ref: 'description', autofocus: true, value: version.description })\n      )\n    ))\n  }\n\n  getResult () {\n    return {\n      revisionType: this.refs.revisionType.val(),\n      description: this.refs.description.val()\n    }\n  }\n}\n\nfunction _isSelected (version, selectedVersion) {\n  return (\n    version && selectedVersion && version.id === selectedVersion.id\n  )\n}\n","import { BasicEditorApi, documentHelpers, selectionHelpers, last } from 'substance'\n\nexport default class EssayEditorApi extends BasicEditorApi {\n  insertImagesAsFigures (files) {\n    // TODO: we would need a transaction on archive level, creating assets,\n    // and then placing them inside the article body.\n    // This way the archive gets 'polluted', i.e. a redo of that change does\n    // not remove the asset.\n    const editorSession = this.editorSession\n    const paths = files.map(file => {\n      return this.archive.addAsset(file)\n    })\n    const sel = editorSession.getSelection()\n    if (!sel || !sel.containerPath) return\n    editorSession.transaction(tx => {\n      this._insertFigures(tx, sel, files, paths)\n    })\n  }\n\n  _insertFigures (tx, sel, files, paths) {\n    if (files.length === 0) return\n\n    const containerPath = sel.containerPath\n    const figures = files.map((file, idx) => {\n      const href = paths[idx]\n      const figure = documentHelpers.createNodeFromJson(tx, {\n        type: 'figure',\n        image: href,\n        legend: [{ type: 'paragraph' }]\n      })\n      // Note: this is necessary because tx.insertBlockNode()\n      // selects the inserted node\n      // TODO: maybe we should change the behavior of tx.insertBlockNode()\n      // so that it is easier to insert multiple nodes at once\n      if (idx !== 0) {\n        tx.break()\n      }\n      tx.insertBlockNode(figure)\n      return figure\n    })\n    selectionHelpers.selectNode(tx, last(figures).id, containerPath)\n  }\n}\n","import { Component, $$, renderMenu, Limiter } from 'substance'\n\n// ATTENTION: deviating from the common toolbar implementation\n// because we want to use a Limiter around the menu content\n// TODO: alternatively we could discuss whether it makes sense\n// to make the common implementation configurable, i.e. 'limiter:true|false'\nexport default class EditorToolbar extends Component {\n  render () {\n    return $$('div', { class: 'sc-editor-toolbar' }).append(\n      $$(Limiter, { fullscreen: true },\n        renderMenu(this, 'editor-toolbar')\n      )\n    )\n  }\n}\n","import { AbstractEditor, $$, domHelpers, Managed } from 'substance'\nimport Essay from './Essay'\nimport EssayEditorApi from './EssayEditorApi'\nimport EditorToolbar from '../EditorToolbar'\n\nexport default class EssayEditor extends AbstractEditor {\n  getActionHandlers () {\n    return {\n      requestPopover: this._interceptPopoverRequest\n    }\n  }\n\n  render () {\n    const document = this.document\n    const el = $$('div', { class: 'sc-essay-editor' })\n    el.append(\n      $$(Managed(EditorToolbar, 'commandStates'))\n    )\n    el.append(\n      $$(Essay, { node: document.root, editable: true, onscroll: this._onScroll }).ref('content')\n    )\n    // ATTENTION: hopefully this does not prevent any other default behavior\n    // important not to preventDefault here, as otherwise native mouse stuff, like focussing is not working anymore\n    el.on('mousedown', domHelpers.stop)\n    el.on('contextmenu', this._onContextMenu)\n\n    return el\n  }\n\n  _createAPI (archive, editorSession) {\n    return new EssayEditorApi(archive, editorSession)\n  }\n\n  _getDocumentType () {\n    return 'essay'\n  }\n\n  _getScrollableElement () {\n    return this.refs.content.getElement()\n  }\n\n  _onContextMenu (event) {\n    domHelpers.stopAndPrevent(event)\n    console.error('Show editor context menu')\n  }\n\n  _interceptPopoverRequest (requestParams) {\n    const parent = this.getParent()\n    parent.send('requestPopover', requestParams, this._getScrollableElement())\n  }\n\n  _onScroll () {\n    this.send('repositionPopover', this._getScrollableElement())\n  }\n}\n","import { Component, $$ } from 'substance'\nimport EssayEditor from './essay/EssayEditor'\n\n// TODO: later we could load components according to the specific document type\nexport default class DocumentEditor extends Component {\n  render () {\n    return $$(EssayEditor, this.props).ref('impl')\n  }\n\n  handleKeydown (event) {\n    return this.refs.impl.handleKeydown(event)\n  }\n}\n","import { SchemaBuilder, ListMixin, ListItemMixin } from 'substance'\n\nexport default function EssaySchema () {\n  const builder = new SchemaBuilder('essay', 'substance')\n\n  builder.nextVersion(v => {\n    // essay\n    v.addNode('essay', '@node', {\n      title: 'text',\n      body: {\n        type: 'container',\n        childTypes: ['paragraph', 'heading', 'figure', 'list'],\n        defaultTextType: 'paragraph'\n      }\n    })\n    // annotations\n    v.addNode('bold', '@annotation')\n    v.addNode('italic', '@annotation')\n    v.addNode('link', '@annotation', {\n      href: 'string'\n    })\n    v.addNode('strike', '@annotation')\n    v.addNode('subscript', '@annotation')\n    v.addNode('superscript', '@annotation')\n    const RICH_TEXT_ANNOS = ['bold', 'italic', 'link', 'subscript', 'superscript', 'strike']\n    // paragraph\n    v.addNode('paragraph', '@text', {\n      content: { type: 'text', childTypes: RICH_TEXT_ANNOS }\n    })\n    // heading\n    v.addNode('heading', '@text', {\n      content: { type: 'text', childTypes: RICH_TEXT_ANNOS },\n      level: { type: 'number', default: 1 }\n    })\n    v.addNode('figure', '@node', {\n      // Not yet\n      // title: { type: 'text', childTypes: [/* only plain text */] },\n      image: 'string',\n      legend: { type: 'container', childTypes: ['paragraph'], defaultTextType: 'paragraph' }\n    })\n    v.addNode('list', '@node', {\n      items: { type: 'children', childTypes: ['list-item'] },\n      listType: 'string'\n    }, { Mixin: ListMixin, omitPropertyElement: true })\n    v.addNode('list-item', '@text', {\n      content: { type: 'text', childTypes: RICH_TEXT_ANNOS },\n      level: { type: 'number', default: 1 }\n    }, { Mixin: ListItemMixin })\n  })\n\n  const schema = builder.createSchema()\n  // HACK: we still have to set documentSchema.defaultTextType\n  schema._documentSchema.defaultTextType = 'paragraph'\n\n  return schema\n}\n","import EssaySchema from './EssaySchema'\n\nexport default class EssayLoader {\n  load (xmlData) {\n    const schema = EssaySchema()\n    const doc = schema.createDocumentInstance()\n    return doc.fromXml(xmlData)\n  }\n}\n","import { InsertNodeCommand as SubstanceInsertNodeCommand } from 'substance'\n\nexport default class InsertNodeCommand extends SubstanceInsertNodeCommand {\n  getCommandState (params, context) {\n    const { selection, selectionState } = params\n    const newState = {\n      disabled: true,\n      active: false\n    }\n    if (selection && !selection.isNull() && !selection.isCustomSelection()) {\n      const { node, containerPath } = selectionState\n      if (node && node.isText() && containerPath) {\n        // TODO: discuss this. IMO the most natural way to insert block nodes is\n        // to create an empty paragraph, and then insert the figure there.\n        // This is not consistent with behavior of Word or GDocs\n        // but they treat images et al. as characters -- which justifies inserting anywhere.\n        // Here we enable block node insertion only on empty text nodes, or when at start or end of\n        // a text node.\n        if (node.isEmpty() || selectionState.isFirst || selectionState.isLast) {\n          newState.disabled = false\n        }\n      }\n    }\n    return newState\n  }\n}\n","import InsertNodeCommand from './InsertNodeCommand'\n\nexport default class InsertFigureCommand extends InsertNodeCommand {\n  getType () {\n    return 'figure'\n  }\n\n  execute (params, context) {\n    const state = params.commandState\n    if (state.disabled) return\n    const surface = params.surface\n    if (!surface) {\n      console.error('No surface available.')\n    } else {\n      surface.send('requestFileSelect', { fileType: 'image/*', multiple: true }).then(files => {\n        if (files.length > 0) {\n          context.api.insertImagesAsFigures(files)\n        }\n      })\n    }\n  }\n}\n","import {\n  Configurator, DefaultHtmlImporter, HTMLExporter,\n  SwitchTextTypeCommand, platform, UndoCommand, RedoCommand, SelectAllCommand,\n  AnnotationCommand, BasePackage, SwitchTextTypeDropdown, HtmlConverters,\n  ParagraphComponent, HeadingComponent, FigureComponent, ListComponent,\n  ListItemComponent, CreateLinkCommand, LinkComponent\n} from 'substance'\nimport Essay from './Essay'\nimport EssayLoader from './EssayLoader'\nimport InsertFigureCommand from './InsertFigureCommand'\n\nconst {\n  ParagraphConverter, HeadingConverter, FigureConverter, BoldConverter, ItalicConverter,\n  StrikeConverter, SubscriptConverter, SuperscriptConverter, LinkConverter\n} = HtmlConverters\n\nexport default class EssayConfiguration extends Configurator {\n  constructor () {\n    super()\n\n    this.configure(this)\n  }\n\n  configure (config) {\n    // basic stuff from substance\n    config.import(BasePackage)\n\n    config.registerDocumentLoader('essay', EssayLoader)\n\n    // document specific configuration\n    config.addComponent('essay', Essay)\n    config.addComponent('paragraph', ParagraphComponent)\n    config.addComponent('heading', HeadingComponent)\n    config.addComponent('figure', FigureComponent)\n    config.addComponent('list', ListComponent)\n    config.addComponent('list-item', ListItemComponent)\n    config.addComponent('link', LinkComponent)\n\n    // HTML conversion\n    config.addConverter('html', ParagraphConverter)\n    config.addConverter('html', HeadingConverter)\n    config.addConverter('html', FigureConverter)\n    config.addConverter('html', BoldConverter)\n    config.addConverter('html', ItalicConverter)\n    config.addConverter('html', StrikeConverter)\n    config.addConverter('html', SubscriptConverter)\n    config.addConverter('html', SuperscriptConverter)\n    config.addConverter('html', LinkConverter)\n    config.addImporter('html', DefaultHtmlImporter)\n    config.addExporter('html', HTMLExporter)\n\n    // Commands\n    config.addCommand('undo', UndoCommand, { accelerator: 'CommandOrControl+z' })\n    config.addCommand('redo', RedoCommand, { accelerator: 'CommandOrControl+Shift+z' })\n    config.addCommand('select-all', SelectAllCommand, { accelerator: 'CommandOrControl+a' })\n\n    // ATTENTION: Ctrl+Alt is unfortunately not working in Windows, because Windows maps this to AltGr\n    // Using Ctrl+level for now\n    config.addCommand('switch-to-paragraph', SwitchTextTypeCommand, {\n      spec: { type: 'paragraph' },\n      commandGroup: 'text-types',\n      accelerator: platform.isWindows ? 'Ctrl+0' : 'CommandOrControl+Alt+0'\n    })\n    ;[1, 2, 3, 4].forEach(level => {\n      config.addCommand(`switch-to-heading-${level}`, SwitchTextTypeCommand, {\n        spec: { type: 'heading', level },\n        commandGroup: 'text-types',\n        accelerator: platform.isWindows ? `Ctrl+${level}` : `CommandOrControl+Alt+${level}`\n      })\n    })\n    config.addCommand('toggle-bold', AnnotationCommand, {\n      nodeType: 'bold',\n      accelerator: 'CommandOrControl+B'\n    })\n    config.addCommand('toggle-italic', AnnotationCommand, {\n      nodeType: 'italic',\n      accelerator: 'CommandOrControl+I'\n    })\n    config.addCommand('toggle-strike', AnnotationCommand, {\n      nodeType: 'strike',\n      accelerator: 'CommandOrControl+Shift+X'\n    })\n    config.addCommand('toggle-subscript', AnnotationCommand, {\n      nodeType: 'subscript',\n      accelerator: 'CommandOrControl+Shift+B'\n    })\n    config.addCommand('toggle-superscript', AnnotationCommand, {\n      nodeType: 'superscript',\n      accelerator: 'CommandOrControl+Shift+P'\n    })\n    config.addCommand('create-link', CreateLinkCommand, {\n      nodeType: 'link',\n      accelerator: 'CommandOrControl+K'\n    })\n    config.addCommand('insert-figure', InsertFigureCommand, {\n      nodeType: 'figure',\n      accelerator: 'CommandOrControl+Shift+f'\n    })\n\n    const switchTextType = {\n      type: 'menu',\n      ComponentClass: SwitchTextTypeDropdown,\n      hideWhenDisabled: true,\n      items: [\n        { command: 'switch-to-paragraph', label: 'Paragraph', icon: 'paragraph' },\n        { command: 'switch-to-heading-1', label: 'Heading 1', icon: 'heading' },\n        { command: 'switch-to-heading-2', label: 'Heading 2', icon: 'heading' },\n        { command: 'switch-to-heading-3', label: 'Heading 3', icon: 'heading' },\n        { command: 'switch-to-heading-4', label: 'Heading 4', icon: 'heading' }\n      ]\n    }\n\n    const editorToolbar = {\n      type: 'toolbar',\n      style: 'plain',\n      size: 'small',\n      items: [\n        { command: 'undo', icon: 'undo', tooltip: 'Undo' },\n        { command: 'redo', icon: 'redo', tooltip: 'Redo' },\n        { type: 'separator' },\n        { command: 'toggle-bold', icon: 'bold', tooltip: 'Bring attention to' },\n        { command: 'toggle-italic', icon: 'italic', tooltip: 'Introduce to' },\n        { command: 'toggle-strike', icon: 'strikethrough', tooltip: 'Strike Through' },\n        { command: 'toggle-subscript', icon: 'subscript', tooltip: 'Subscript' },\n        { command: 'toggle-superscript', icon: 'superscript', tooltip: 'Superscript' },\n        { command: 'create-link', icon: 'link', tooltip: 'Link' },\n        { command: 'toggle-unordered-list', icon: 'list-ul', tooltip: 'Bullet-List' },\n        { command: 'toggle-ordered-list', icon: 'list-ol', tooltip: 'Numbered List' },\n        { command: 'indent-list', icon: 'indent', tooltip: 'Indent' },\n        { command: 'outdent-list', icon: 'outdent', tooltip: 'Outdent' },\n        { command: 'insert-figure', icon: 'image', tooltip: 'Figure' },\n        switchTextType,\n        { type: 'fill' }\n      ]\n    }\n\n    config.addToolPanel('editor-toolbar', editorToolbar)\n    config.addLabel('essay.title', 'Title')\n    config.addLabel('paragraph', 'Paragraph')\n    config.addLabel('heading', 'Heading')\n\n    return config\n  }\n}\n","import {\n  Component, DefaultDOMElement as DOMElement, domHelpers, parseKeyEvent, $$,\n  getQueryStringParam, debounce\n} from 'substance'\nimport loadArchive from 'substance/dar/loadArchive'\nimport Versions from './Versions'\nimport sendRequest from './_sendRequest'\nimport DocumentReader from './DocumentReader'\nimport DocumentEditor from './DocumentEditor'\nimport EssayConfiguration from './essay/EssayConfiguration'\n\n/* global FormData, Blob */\n\n// Note: the DocumentComponent takes care of loading and saving a DAR, and creating versions.\nexport default class DocumentComponent extends Component {\n  constructor (...args) {\n    super(...args)\n\n    this._debouncedAutosave = debounce(this.save, 1000)\n  }\n\n  getActionHandlers () {\n    return {\n      openVersions: this.openVersions,\n      closeVersions: this.closeVersions,\n      save: this.save\n    }\n  }\n\n  getInitialState () {\n    const { rawArchive, document } = this.props\n\n    // TODO: the configuration should be derived from the documen type\n    this._config = new EssayConfiguration()\n\n    const archive = loadArchive(rawArchive, this._config)\n    if (this._isEditable()) {\n      archive.storage = new _PersistenceAdapter(rawArchive, document.id, document.url)\n    }\n    const showVersions = Boolean(getQueryStringParam('versions'))\n    return {\n      archive,\n      showVersions\n    }\n  }\n\n  getChildContext () {\n    return {\n      config: this._config\n    }\n  }\n\n  didMount () {\n    if (this._isEditable()) {\n      // Note: adding global handlers causes problems in the test suite\n      DOMElement.getBrowserWindow().on('keydown', this._keyDown, this)\n      DOMElement.getBrowserWindow().on('drop', domHelpers.stopAndPrevent, this)\n      DOMElement.getBrowserWindow().on('dragover', domHelpers.stopAndPrevent, this)\n\n      this.state.archive.on('archive:changed', this._debouncedAutosave, this)\n      this._debouncedChangeStatusMessage = debounce(this.changeStatusMessage, 3000)\n    }\n  }\n\n  dispose () {\n    DOMElement.getBrowserWindow().off(this)\n    this.state.archive.off(this)\n  }\n\n  render () {\n    // TODO: we need to find out which use-cases we have\n    // a readOnly could be like a static version, which needs to be rendered with pure HTML\n    // for the others, there could be need for enabling specific features, e.g. only commenting\n    const { user, document, readOnly } = this.props\n    const { archive } = this.state\n    const el = $$('div', { class: 'sc-document-content' })\n    if (archive) {\n      if (readOnly) {\n        el.append(\n          $$(DocumentReader, { archive }).ref('reader')\n        )\n      } else {\n        el.append(\n          $$(DocumentEditor, { archive }).ref('editor')\n        )\n      }\n      if (this.state.showVersions) {\n        el.append(\n          // Notes:\n          // - the archive is passed so that the current version can be displayed\n          // - user is needed to conditionally show version management tools (Versions has its own header)\n          $$(Versions, { user, document, archive })\n        )\n      }\n    } else {\n      el.text('LOADING...')\n    }\n    return el\n  }\n\n  _updateTitle () {}\n\n  _keyDown (event) {\n    // TODO: should this really be suppressed here?\n    if (event.key === 'Dead') return\n    this._handleKeydown(event)\n  }\n\n  _handleKeydown (event) {\n    const key = parseKeyEvent(event)\n    // console.log('Texture received keydown for combo', key)\n    let handled = false\n    // CommandOrControl+S\n    if (key === 'META+83' || key === 'CTRL+83') {\n      this.save()\n      handled = true\n    }\n    if (!handled) {\n      if (this.refs.editor) {\n        handled = this.refs.editor.handleKeydown(event)\n      }\n    }\n    if (handled) {\n      event.preventDefault()\n      event.stopPropagation()\n    }\n  }\n\n  openVersions () {\n    this.extendState({ showVersions: true })\n  }\n\n  closeVersions () {\n    return this._updateDocumentState().then(() => {\n      this.extendState({ showVersions: false })\n    })\n  }\n\n  save () {\n    const { archive } = this.state\n    this.changeStatusMessage('Saving...')\n    return new Promise((resolve, reject) => {\n      archive.save((err, update) => {\n        if (err) {\n          console.error(err)\n          return reject(err)\n        }\n        this._updateTitle()\n        this._updateDocumentState().then(() => {\n          resolve(update)\n        })\n      })\n    }).finally(() => {\n      this._debouncedChangeStatusMessage('All changes saved')\n    })\n  }\n\n  changeStatusMessage (msg) {\n    this.send('displayStatusMessage', msg)\n  }\n\n  _updateDocumentState () {\n    return this.send('updateDocumentRecord')\n  }\n\n  _isEditable () {\n    return !this.props.readOnly\n  }\n}\n\n// Temporary solution\n// Using a hybrid in-memory and http implementation.\n// In-memory for server side rendering, and initial mount, http for storing\nclass _PersistenceAdapter {\n  constructor (rawArchive, documentId, documentUrl) {\n    this.rawArchive = rawArchive\n    this.documentId = documentId\n    this.documentUrl = documentUrl\n  }\n\n  read (_, cb) {\n    cb(null, this.rawArchive)\n  }\n\n  write (_, data, cb) {\n    const form = new FormData()\n    const resources = data.resources\n    Object.keys(resources).forEach(id => {\n      const record = resources[id]\n      if (record.encoding === 'blob') {\n        // removing the blob from the record and submitting it as extra part\n        let blob = record.data\n        if (!(blob instanceof Blob)) {\n          blob = new Blob([record.data])\n        }\n        form.append(id, blob, record.filename)\n        delete record.data\n      }\n    })\n    form.append('_archive', JSON.stringify(data))\n    // substanceSendRequest({\n    sendRequest({\n      method: 'PUT',\n      url: this.documentUrl,\n      multiPart: true,\n      data: form\n    }).then(response => {\n      cb(null, response)\n    }).catch(err => {\n      cb(err)\n    })\n  }\n\n  getAssetUrl (_, { id, filename }) {\n    return `/assets/${this.documentId}/${filename}`\n  }\n}\n","import { $$, domHelpers } from 'substance'\nimport BasePage from './BasePage'\nimport MobileHeader from './MobileHeader'\nimport Footer from './Footer'\nimport DocumentHeader from './DocumentHeader'\nimport DocumentComponent from './DocumentComponent'\nimport sendRequest from './_sendRequest'\n\nexport default class DocumentPage extends BasePage {\n  // ATTENTION: we need to dispatch content related actions from\n  // header to the content component\n  getActionHandlers () {\n    return Object.assign(super.getActionHandlers(),\n      {\n        openVersions: () => {\n          return this.refs.content.openVersions()\n        },\n        updateDocumentRecord: this._getUpdatedDocumentRecord,\n        displayStatusMessage: this._displayStatusMessage\n      }\n    )\n  }\n\n  renderPageBody () {\n    const body = super.renderPageBody()\n    const { readOnly } = this.props\n    if (readOnly) {\n      body.addClass('sm-reader')\n    } else {\n      // prevent native context menu in the editor\n      body.on('contextmenu', domHelpers.stopAndPrevent)\n      body.addClass('sm-editor')\n    }\n    return body\n  }\n\n  renderBodyContent () {\n    const { user, document, rawArchive, readOnly } = this.props\n    const { isMobile, statusMessage } = this.state\n\n    if (user && !readOnly) {\n      // Editor\n      return [\n        $$(DocumentHeader, { user, document, statusMessage }).ref('header'),\n        $$(DocumentComponent, { user, document, rawArchive, readOnly }).ref('content')\n      ]\n    } else {\n      // Reader\n      return [\n        isMobile\n          ? $$(MobileHeader, { user }).ref('header')\n          : $$(DocumentHeader, { user, document, readOnly: true }).ref('header'),\n        $$(DocumentComponent, { user, document, rawArchive, readOnly: true }).ref('content'),\n        $$(Footer, { isMobile })\n      ]\n    }\n  }\n\n  async _getUpdatedDocumentRecord () {\n    const document = await sendRequest({\n      url: '/api/getDocumentRecord',\n      method: 'POST',\n      json: true,\n      data: {\n        documentId: this.props.document.id\n      }\n    })\n    // HACK: this only makes sense because DocumentPage is the root component\n    this.extendProps({ document })\n  }\n\n  _displayStatusMessage (statusMessage) {\n    this.extendState({ statusMessage })\n  }\n}\n"],"names":["documentHelpers.createNodeFromJson","DefaultDOMElement","documentHelpers.append","documentHelpers.removeFromCollection","documentHelpers.deepDeleteNode","domHelpers.stopAndPrevent","FourSquareLayout","domHelpers.stop","selectionHelpers.selectNode","SubstanceInsertNodeCommand","RedoCommand"],"mappings":"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"}