{"version":3,"file":"user-profile.page.js","sources":["../../../src/MultiColumnLayout.js","../../../src/Column.js","../../../src/Card.js","../../../src/Subtitle.js","../../../src/Prose.js","../../../src/Badge.js","../../../src/Meta.js","../../../src/PublishState.js","../../../src/DashboardItem.js","../../../src/Dashboard.js","../../../src/MobileDashboard.js","../../../src/UserProfilePage.js"],"sourcesContent":["import { $$ } from 'substance'\n\nexport default function MultiColumnLayout (props) {\n  return $$('div', { className: 'sc-multi-column' }, props.children)\n}\n","import { $$ } from 'substance'\n\nexport default function Column (props) {\n  const size = props.size\n  const el = $$('div', { className: 'sc-column' }, props.children)\n  if (size) el.setStyle('flex', `0 0 ${size}`)\n  return el\n}\n","import { $$ } from 'substance'\n\nexport default function Card (props) {\n  return (\n    $$('div', { className: 'sc-card' },\n      props.children\n    )\n  )\n}\n","import { $$ } from 'substance'\n\nexport default function Subtitle (props) {\n  return (\n    $$('div', { className: 'sc-subtitle' },\n      props.children\n    )\n  )\n}\n","import { $$ } from 'substance'\n\nexport default function Prose (props) {\n  return (\n    $$('div', { className: 'sc-prose' },\n      props.children\n    )\n  )\n}\n","import { Component, $$, Title, Link } from 'substance'\nimport Card from './Card'\nimport Subtitle from './Subtitle'\nimport Prose from './Prose'\n\nexport default class Badge extends Component {\n  render () {\n    const { image, displayName, name, bio, website } = this.props.user\n\n    const cardEl = $$(Card).append(\n      $$(Title).append(displayName),\n      $$(Subtitle).append(name)\n    )\n\n    if (bio) {\n      cardEl.append(\n        $$(Prose).append(bio)\n      )\n    }\n\n    if (website) {\n      cardEl.append(\n        $$(Prose).append(\n          $$(Link, { href: website, target: '_blank' }).append(website)\n        )\n      )\n    }\n\n    return $$('div').addClass('sc-badge').append(\n      $$('div').addClass('se-badge-image').append(\n        $$(Link, { href: '/settings ' }).append(\n          $$('img', { src: image })\n        )\n      ),\n      cardEl\n    )\n  }\n}\n","import { $$ } from 'substance'\n\nexport default function Meta (props) {\n  return (\n    $$('div', { className: 'sc-meta' },\n      props.children\n    )\n  )\n}\n","import { $$, Icon } from 'substance'\nimport { DOCUMENT_STATE_ICONS } from './PlatformConstants'\n\nexport default function PublishState (props) {\n  const state = props.state\n  return (\n    $$('div', { className: 'sc-publish-state sm-' + state },\n      $$(Icon, { icon: DOCUMENT_STATE_ICONS[state] }),\n      $$('div').addClass('se-state-name').text(state.charAt(0).toUpperCase() + state.slice(1))\n    )\n  )\n}\n","import {\n  Component, $$, Icon, StackFill, HorizontalStack, DropdownMenu, Divider, Title, Link\n} from 'substance'\nimport Card from './Card'\nimport Prose from './Prose'\nimport Meta from './Meta'\nimport PublishState from './PublishState'\nimport { FormatBytes, GetDocumentLink, GetDocumentProps, GetRelativeTime } from './utils'\n\nconst DASHBOARD_ITEM_MENU = (document) => ({\n  items: [\n    { url: GetDocumentLink(document, 'edit'), label: 'Edit', icon: 'pencil-alt' },\n    { url: GetDocumentLink(document, 'preview'), newTab: true, label: 'Preview', icon: 'eye' },\n    // { action: 'rename', label: 'Rename' },\n    { action: 'deleteDocument', label: 'Delete', icon: 'trash' },\n    { action: 'downloadDocument', label: 'Download', icon: 'file-download' }\n  ]\n})\n\nexport default class DashboardItem extends Component {\n  render () {\n    const { document, isOwner } = this.props\n    const { title, authors, modified, state, size } = GetDocumentProps(document)\n\n    const titleEl = $$(HorizontalStack).append(\n      $$(Title).append(\n        $$(Link, { href: GetDocumentLink(document, 'edit') }, title)\n      )\n    )\n\n    // Ellipsis menu and its content is only available for document's owner\n    if (isOwner) {\n      titleEl.append(\n        $$(DropdownMenu, DASHBOARD_ITEM_MENU(document),\n          $$(Icon, { icon: 'ellipsis-v' })\n        )\n      )\n    }\n\n    return $$('div').addClass('sc-dashboard-item').append(\n      $$(Card).append(\n        titleEl,\n        $$(Prose).append(authors.join(', ')),\n        $$(Divider),\n        $$(HorizontalStack, {},\n          $$(Meta).text('Edited ' + GetRelativeTime(modified)),\n          // Taking too much space, disabled published on for now\n          // state === 'published' ? $$(Meta).text('Published on ' + new Date(published).toDateString()) : '',\n          $$(Meta).text(FormatBytes(size * 1024)),\n          $$(StackFill),\n          $$(PublishState, { state })\n        )\n      )\n    )\n  }\n}\n","import { $$, Limiter } from 'substance'\nimport MultiColumnLayout from './MultiColumnLayout'\nimport Column from './Column'\nimport Badge from './Badge'\nimport DashboardItem from './DashboardItem'\n\nexport default function Dashboard (props) {\n  const documents = props.documents || []\n  const user = props.user\n  const isOwner = props.isOwner\n  const el = $$('div').addClass('sc-dashboard')\n\n  el.append(\n    $$(Limiter, {},\n      $$(MultiColumnLayout).append(\n        $$(Column, { size: '225px' }).append(\n          $$(Badge, { user })\n        ),\n        $$(Column).append(\n          ...documents.map(document => $$(DashboardItem, { document, isOwner }))\n        )\n      )\n    )\n  )\n  return el\n}\n","import { Component, $$, Limiter } from 'substance'\nimport DashboardItem from './DashboardItem'\n\nexport default class MobileDashboard extends Component {\n  render () {\n    const documents = this.props.documents || []\n    const el = $$('div', { class: 'sc-mobile-dashboard sc-dashboard' })\n    el.append(\n      $$(Limiter, {},\n        ...documents.map(document => $$(DashboardItem, { document }))\n      )\n    )\n    return el\n  }\n}\n","import { $$ } from 'substance'\nimport BasePage from './BasePage'\nimport DashboardHeader from './DashboardHeader'\nimport MobileHeader from './MobileHeader'\nimport Footer from './Footer'\nimport Dashboard from './Dashboard'\nimport MobileDashboard from './MobileDashboard'\nimport Background from './Background'\n\n// NOTE: the UserProfilePage is sent prerendered to the client\n// so there is no need to fetch data\nexport default class UserProfilePage extends BasePage {\n  get title () { return 'Documents' }\n\n  renderBodyContent () {\n    const { user, profile, documents } = this.props\n    const { isMobile } = this.state\n    const isOwner = user && user.id === profile.id\n    return [\n      isMobile\n        ? $$(MobileHeader, { user })\n        : $$(DashboardHeader, { user, profile }),\n      $$(Background, { style: 'light' },\n        isMobile\n          ? $$(MobileDashboard, { documents })\n          : $$(Dashboard, { documents, user: profile, isOwner })\n      ),\n      $$(Footer, { isMobile })\n    ]\n  }\n}\n"],"names":[],"mappings":"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"}